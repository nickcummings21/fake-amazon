<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="customer.css">

    <title>Customer</title>
</head>
<body ng-app="amazonApp" ng-controller="amazonCtrl" onload="getProducts()">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>

    <h1>Shopping Interface</h1>

    <h2>Current Products</h2>

    <div class="products" ng-repeat="product in products">
        <input type="checkbox">
        <p>{{ product.name }}</p>
        <p>{{ product.price }}</p>
    </div>

    <h2>Shopping Cart</h2>

    <script>

        let app = angular.module("amazonApp", []);
        app.controller("amazonCtrl", function ($scope) {

            let products = [];

            $scope.getProducts = function() {
                $.getJSON("/get-products", function (data) {
                    console.log(data);
                    products = data.sort(compare);
                });
            }

        });

    </script>

</body>
</html>